<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Ø§ØªØµÙ„ Ø¨Ù†Ø§</title>

  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">

  <!-- EmailJS -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>

  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    html, body { width: 100%; overflow-x: hidden; }

    body {
      font-family: "Tajawal", sans-serif;
      background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
      color: #0f172a;
      line-height: 1.7;
    }

    /* HEADER */
    header {
      padding: clamp(12px,3vw,18px) clamp(20px,5vw,30px);
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: #fff;
      box-shadow: 0 2px 18px rgba(0,0,0,0.07);
      position: sticky;
      top: 0;
      z-index: 999;
    }
    .logo img {
      width: clamp(60px,12vw,85px);
      height: auto;
    }

    /* NAV */
    nav ul {
      list-style: none;
      display: flex;
      gap: clamp(15px,4vw,30px);
      align-items: center;
    }
    nav ul li { position: relative; }
    nav ul li a {
      text-decoration: none;
      color: #334155;
      font-size: clamp(14px,3vw,18px);
      font-weight: 600;
      padding: 6px;
      transition: .2s;
    }
    nav ul li a:hover,
    nav ul li a.active { color: #0aa2ca; }

    /* DROPDOWN (desktop) */
    .dropdown-content {
      display: none;
      position: absolute;
      top: 100%;
      right: 0;
      background: #fff;
      box-shadow: 0 4px 15px rgba(0,0,0,0.13);
      padding: 12px 0;
      border-radius: 8px;
      min-width: 200px;
      z-index: 1000;
    }
    .dropdown-content a {
      display: block;
      padding: 10px 20px;
      white-space: nowrap;
      color: #334155;
      font-size: 16px;
    }
    .dropdown:hover .dropdown-content { display: block; }

    /* BUTTONS (header) */
    .actions {
      display: flex;
      gap: clamp(8px,2vw,12px);
      align-items: center;
    }
    .btn {
      padding: clamp(8px,2vw,10px) clamp(16px,4vw,20px);
      border-radius: 26px;
      border: 2px solid #0aa2ca;
      background: rgba(10,162,202,0.06);
      cursor: pointer;
      font-weight: 700;
      font-size: clamp(14px,3vw,16px);
      transition: .2s;
      color: #0f172a;
      white-space: nowrap;
    }
    .btn.primary {
      background: linear-gradient(90deg,#0aa2ca,#078fa8);
      color: #fff;
      border: none;
      box-shadow: 0 4px 18px rgba(10,162,202,0.25);
    }

    /* MOBILE MENU */
    #menu-btn {
      display: none;
      font-size: clamp(24px,6vw,30px);
      cursor: pointer;
    }

    .mobile-menu {
      display: none;
      position: fixed;
      top: 0;
      right: 0;
      width: min(80%,350px);
      height: 100%;
      background: #fff;
      box-shadow: -3px 0 12px rgba(0,0,0,0.1);
      padding: clamp(20px,8vw,30px);
      z-index: 2000;
      overflow-y: auto;
    }
    .mobile-menu ul { list-style: none; margin-top: 20px; }
    .mobile-menu ul li { margin-bottom: 18px; }
    .mobile-menu ul li a {
      font-size: clamp(18px,5vw,20px);
      text-decoration: none;
      color: #0f172a;
    }

    /* HERO */
    .hero {
      padding: clamp(80px,20vw,110px) clamp(25px,8vw,40px);
      text-align: center;
      background: linear-gradient(135deg, #e0f2fe 0%, #f1f5f9 100%);
    }
    .hero h1 {
      font-size: clamp(28px,8vw,40px);
      font-weight: 800;
      color: #0f172a;
      margin-bottom: clamp(12px,4vw,18px);
    }
    .hero p {
      font-size: clamp(16px,4vw,19px);
      max-width: 700px;
      margin: 0 auto;
      color: #475569;
    }

    /* LAYOUT */
    .contact-wrapper {
      max-width: 1100px;
      margin: 0 auto;
      padding: clamp(40px,12vw,60px) clamp(20px,8vw,40px) clamp(50px,14vw,70px);
      display: grid;
      grid-template-columns: repeat(auto-fit,minmax(280px,1fr));
      gap: clamp(24px,5vw,32px);
    }

    .contact-info,
    .contact-form-box {
      background: #fff;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(15,23,42,0.06);
      padding: clamp(24px,6vw,32px);
    }

    /* INFO COLUMN */
    .contact-info h2 {
      font-size: clamp(22px,6vw,28px);
      margin-bottom: 14px;
      color: #0f172a;
    }
    .contact-info p {
      color: #475569;
      font-size: clamp(14px,4vw,16px);
      margin-bottom: 18px;
    }
    .info-list {
      display: grid;
      gap: 14px;
      margin-top: 10px;
    }
    .info-item {
      display: flex;
      align-items: flex-start;
      gap: 10px;
      font-size: clamp(14px,4vw,16px);
      color: #1e293b;
    }
    .info-icon {
      width: 30px;
      height: 30px;
      border-radius: 999px;
      background: #e0f2fe;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      color: #0369a1;
      flex-shrink: 0;
    }
    .info-label {
      font-weight: 700;
      margin-bottom: 2px;
    }
    .info-text {
      color: #475569;
    }
    .social {
      margin-top: 20px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    .social a {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 36px;
      height: 36px;
      border-radius: 999px;
      background: #e2e8f0;
      color: #0f172a;
      text-decoration: none;
      font-size: 18px;
      transition: .2s;
    }
    .social a:hover {
      background: #0aa2ca;
      color: #fff;
    }

    /* FORM COLUMN */
    .contact-form-box h2 {
      font-size: clamp(22px,6vw,28px);
      margin-bottom: 8px;
      color: #0f172a;
    }
    .contact-form-box p {
      color: #64748b;
      font-size: clamp(14px,4vw,16px);
      margin-bottom: 20px;
    }

    form {
      display: grid;
      grid-template-columns: repeat(auto-fit,minmax(220px,1fr));
      gap: clamp(14px,3vw,18px) clamp(14px,3vw,20px);
    }

    .form-field {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    .form-field.full {
      grid-column: 1 / -1;
    }

    label {
      font-size: clamp(14px,4vw,15px);
      color: #0f172a;
      font-weight: 600;
    }

    input, textarea {
      border-radius: 12px;
      border: 1px solid #cbd5e1;
      padding: clamp(10px,3vw,12px) clamp(12px,3.5vw,14px);
      font-family: inherit;
      font-size: clamp(14px,4vw,16px);
      color: #0f172a;
      background: #f9fafb;
      transition: border-color .2s, box-shadow .2s, background .2s;
      resize: vertical;
      min-height: 46px;
    }
    textarea {
      min-height: 120px;
    }
    input:focus, textarea:focus {
      outline: none;
      border-color: #0aa2ca;
      box-shadow: 0 0 0 1px rgba(10,162,202,0.15), 0 6px 16px rgba(15,23,42,0.08);
      background: #fff;
    }

    .help-text {
      font-size: 12px;
      color: #94a3b8;
    }

    .error-text {
      font-size: 12px;
      color: #dc2626;
      display: none;
    }

    .submit-wrap {
      grid-column: 1 / -1;
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      margin-top: 4px;
    }

    .submit-wrap button {
      padding: clamp(10px,3.2vw,12px) clamp(20px,5vw,26px);
      border-radius: 999px;
      border: none;
      font-weight: 700;
      font-size: clamp(14px,4vw,16px);
      cursor: pointer;
      background: linear-gradient(135deg,#0aa2ca,#0369a1);
      color: #fff;
      box-shadow: 0 8px 20px rgba(10,162,202,0.35);
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition: transform .2s, box-shadow .2s;
    }
    .submit-wrap button:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 26px rgba(10,162,202,0.45);
    }

    .submit-note {
      font-size: 12px;
      color: #94a3b8;
    }

    /* TOAST */
    .toast-container {
      position: fixed;
      top: 20px;
      left: 20px;
      z-index: 5000;
    }
    .toast {
      background: #fff;
      padding: clamp(12px,3vw,16px) clamp(16px,4vw,20px);
      border-radius: 12px;
      margin-bottom: 10px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
      display: flex;
      align-items: center;
      gap: 12px;
      animation: slideIn 0.3s ease-in-out;
      max-width: 90vw;
    }
    .toast.success { border-right: 4px solid #22c55e; }
    .toast.error { border-right: 4px solid #dc2626; }
    .toast-icon { font-size: clamp(18px,5vw,20px); }
    .toast-message {
      color: #0f172a;
      font-weight: 500;
      font-size: clamp(14px,3.5vw,16px);
    }
    @keyframes slideIn {
      from { transform: translateX(-100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    @keyframes slideOut {
      from { transform: translateX(0); opacity: 1; }
      to { transform: translateX(-100%); opacity: 0; }
    }
    .toast.removing { animation: slideOut 0.3s ease-in-out; }

    /* FOOTER */
    footer {
      padding: clamp(25px,8vw,35px);
      background: linear-gradient(135deg,#0f172a,#020617);
      color: #e2e8f0;
      text-align: center;
      font-size: clamp(14px,4vw,16px);
    }

    /* RESPONSIVE */
    @media(max-width: 980px){
      nav ul { display: none; }
      .actions { display: none; }
      #menu-btn { display: block; }
      .toast-container {
        left: 50%;
        transform: translateX(-50%);
        width: 90%;
      }
    }
    @media(max-width: 600px){
      .contact-wrapper {
        padding-inline: 16px;
      }
      .submit-wrap {
        flex-direction: column-reverse;
        align-items: flex-start;
      }
    }
  </style>
</head>

<body>

<!-- MOBILE MENU -->
<div class="mobile-menu" id="mobileMenu">
  <img src="images/logo.png" style="width: clamp(65px,15vw,80px); margin-bottom: 20px;">
  <ul>
    <li><a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
    <li><a href="research.html">Ø£Ø¨Ø­Ø§Ø« Ù…Ø­ÙƒÙ…Ø©</a></li>
    <li><a href="articles.html">Ù…Ù‚Ø§Ù„Ø§Øª Ù…Ø­ÙƒÙ…Ø©</a></li>
    <li><a href="files.html">Ù…Ù„ÙØ§Øª Ø¨Ø­Ø«ÙŠØ©</a></li>
    <li><a href="general-articles.html">Ù…Ù‚Ø§Ù„Ø§Øª Ø¹Ø§Ù…Ø©</a></li>
    <li><a href="editions.html">Ø¥ØµØ¯Ø§Ø±Ø§ØªÙ†Ø§</a></li>
    <li><a href="activities.html">Ø£Ù†Ø´Ø·ØªÙ†Ø§</a></li>
    <li><a href="talks.html">Ø­ÙˆØ§Ø±Ø§Øª</a></li>
    <li><a href="training.html">ØªÙƒÙˆÙŠÙ†Ø§Øª</a></li>
    <li><a href="live.html">Ø¨Ø« Ù…Ø¨Ø§Ø´Ø±</a></li>
    <li><a href="rules.html">Ø´Ø±ÙˆØ· Ø§Ù„Ù†Ø´Ø±</a></li>
    <li><a href="contact.html">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a></li>
    <li id="mobileLogin"><a href="login.html">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a></li>
    <li id="mobileRegister"><a href="register.html">Ø§Ù†Ø¶Ù… Ø¥Ù„ÙŠÙ†Ø§</a></li>
  </ul>
</div>

<!-- Toast Container -->
<div class="toast-container" id="toastContainer"></div>

<header>
  <div class="logo"><img src="images/logo.png" alt="Logo"></div>
  <div id="menu-btn" onclick="toggleMenu()">â˜°</div>
  <nav>
    <ul>
      <li><a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
      <li class="dropdown">
        <a href="#">Ø£Ø¨Ø­Ø§Ø« ÙˆØ¯Ø±Ø§Ø³Ø§Øª â–¾</a>
        <div class="dropdown-content">
          <a href="research.html">Ø£Ø¨Ø­Ø§Ø« Ù…Ø­ÙƒÙ…Ø©</a>
          <a href="articles.html">Ù…Ù‚Ø§Ù„Ø§Øª Ù…Ø­ÙƒÙ…Ø©</a>
          <a href="files.html">Ù…Ù„ÙØ§Øª Ø¨Ø­Ø«ÙŠØ©</a>
          <a href="general-articles.html">Ù…Ù‚Ø§Ù„Ø§Øª Ø¹Ø§Ù…Ø©</a>
        </div>
      </li>
      <li><a href="editions.html">Ø¥ØµØ¯Ø§Ø±Ø§ØªÙ†Ø§</a></li>
      <li><a href="activities.html">Ø£Ù†Ø´Ø·ØªÙ†Ø§</a></li>
      <li><a href="talks.html">Ø­ÙˆØ§Ø±Ø§Øª</a></li>
      <li><a href="training.html">ØªÙƒÙˆÙŠÙ†Ø§Øª</a></li>
      <li><a href="live.html">Ø¨Ø« Ù…Ø¨Ø§Ø´Ø±</a></li>
      <li><a href="rules.html">Ø´Ø±ÙˆØ· Ø§Ù„Ù†Ø´Ø±</a></li>
      <li><a href="contact.html" class="active">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a></li>
    </ul>
  </nav>
  <div class="actions" id="headerActions">
    <button class="btn" onclick="location.href='login.html'">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
    <button class="btn primary" onclick="location.href='register.html'">Ø§Ù†Ø¶Ù… Ø¥Ù„ÙŠÙ†Ø§</button>
  </div>
</header>

<div class="hero">
  <h1>Ø§ØªØµÙ„ Ø¨Ù†Ø§</h1>
  <p>Ù„Ù„Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª ÙˆØ§Ù„ØªØ¹Ø§ÙˆÙ† Ø§Ù„Ø¹Ù„Ù…ÙŠ ÙˆØ§Ù„Ø£Ø³Ø¦Ù„Ø© Ø­ÙˆÙ„ Ø§Ù„Ù†Ø´Ø±ØŒ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ø¹Ø¨Ø± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø£Ùˆ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„ØªØ§Ù„ÙŠØ©.</p>
</div>

<div class="contact-wrapper">
  <aside class="contact-info">
    <h2>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„</h2>
    <p>ÙŠØ³Ø¹Ø¯ ÙØ±ÙŠÙ‚ Ø§Ù„Ù…Ù†ØµØ© Ø¨Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ù…Ø±Ø§Ø³Ù„Ø§ØªÙƒÙ…ØŒ ÙˆØ³ÙŠØªÙ… Ø§Ù„Ø±Ø¯ Ø®Ù„Ø§Ù„ 2â€“3 Ø£ÙŠØ§Ù… Ø¹Ù…Ù„ ÙƒØ­Ø¯ Ø£Ù‚ØµÙ‰.</p>

    <div class="info-list">
      <div class="info-item">
        <div class="info-icon">âœ‰ï¸</div>
        <div>
          <div class="info-label">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</div>
          <div class="info-text">majalatofoq@gmail.com</div>
        </div>
      </div>
      <div class="info-item">
        <div class="info-icon">ğŸ“</div>
        <div>
          <div class="info-label">Ø§Ù„Ù‡Ø§ØªÙ / ÙˆØ§ØªØ³Ø§Ø¨</div>
          <div class="info-text">+212 600 000 000</div>
        </div>
      </div>
      <div class="info-item">
        <div class="info-icon">ğŸ“</div>
        <div>
          <div class="info-label">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</div>
          <div class="info-text">Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© â€“ Ø§Ù„Ø¯ÙˆÙ„Ø© (ÙŠÙØ­Ø¯Ù‘ÙØ¯ Ù„Ø§Ø­Ù‚Ù‹Ø§)</div>
        </div>
      </div>
    </div>

    <div class="social">
      <a href="#" aria-label="Facebook">f</a>
      <a href="#" aria-label="X">X</a>
      <a href="#" aria-label="LinkedIn">in</a>
      <a href="#" aria-label="YouTube">â–¶</a>
    </div>
  </aside>

  <section class="contact-form-box">
    <h2>Ø£Ø±Ø³Ù„ Ø±Ø³Ø§Ù„Ø©</h2>
    <p>Ø§Ù…Ù„Ø£ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„ØªØ§Ù„ÙŠØ©ØŒ Ù…Ø¹ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù„Ø³Ù‡ÙˆÙ„Ø© Ø§Ù„ØªÙˆØ§ØµÙ„.</p>

    <form id="contactForm" novalidate>
      <div class="form-field">
        <label for="name">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ *</label>
        <input id="name" name="name" type="text" required autocomplete="name" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„">
        <span class="error-text" data-for="name">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù….</span>
      </div>

      <div class="form-field">
        <label for="email">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ *</label>
        <input id="email" name="email" type="email" required autocomplete="email" placeholder="example@mail.com">
        <span class="error-text" data-for="email">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØµØ­ÙŠØ­.</span>
      </div>

      <div class="form-field">
        <label for="phone">Ø§Ù„Ù‡Ø§ØªÙ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
        <input id="phone" name="phone" type="tel" autocomplete="tel" placeholder="+212 6 00 00 00 00">
        <span class="help-text">Ù„Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø¶Ø±ÙˆØ±Ø©.</span>
      </div>

      <div class="form-field">
        <label for="subject">Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ *</label>
        <input id="subject" name="subject" type="text" required placeholder="Ù…Ø«Ø§Ù„: Ø§Ø³ØªÙØ³Ø§Ø± Ø­ÙˆÙ„ Ø´Ø±ÙˆØ· Ø§Ù„Ù†Ø´Ø±">
        <span class="error-text" data-for="subject">Ø§Ù„Ø±Ø¬Ø§Ø¡ ÙƒØªØ§Ø¨Ø© Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ø±Ø³Ø§Ù„Ø©.</span>
      </div>

      <div class="form-field full">
        <label for="message">Ù†Øµ Ø§Ù„Ø±Ø³Ø§Ù„Ø© *</label>
        <textarea id="message" name="message" required placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ø¨Ø´ÙƒÙ„ ÙˆØ§Ø¶Ø­ ÙˆÙ…Ø®ØªØµØ±."></textarea>
        <span class="error-text" data-for="message">Ø§Ù„Ø±Ø¬Ø§Ø¡ ÙƒØªØ§Ø¨Ø© Ù†Øµ Ø§Ù„Ø±Ø³Ø§Ù„Ø©.</span>
      </div>

      <div class="submit-wrap">
        <p class="submit-note">Ù„Ù† ÙŠØªÙ… Ù…Ø´Ø§Ø±ÙƒØ© Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù…Ø¹ Ø£ÙŠ Ø·Ø±Ù Ø«Ø§Ù„Ø«ØŒ ÙˆØ³ÙŠÙØ³ØªØ®Ø¯Ù… Ø§Ù„Ø¨Ø±ÙŠØ¯ ÙÙ‚Ø· Ù„Ù„Ø±Ø¯ Ø¹Ù„Ù‰ Ø§Ø³ØªÙØ³Ø§Ø±Ùƒ.</p>
        <button type="submit" id="submitBtn">
          <span id="btnText">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©</span>
          <span id="btnSpinner" style="display:none;">â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„</span>
          <span>ğŸ“¨</span>
        </button>
      </div>
    </form>
  </section>
</div>

<footer>
  Â© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© â€“ Ù…Ù†ØµØªÙƒ Ø§Ù„Ø¹Ù„Ù…ÙŠØ©
</footer>

<script>
  // ğŸ”¥ EmailJS init
  emailjs.init("urmsYG_uydTuRjsXf"); // Public Key

  function toggleMenu() {
    const menu = document.getElementById("mobileMenu");
    menu.style.display = menu.style.display === "block" ? "none" : "block";
  }

  function showToast(message, type = 'success') {
    const container = document.getElementById('toastContainer');
    const toast = document.createElement('div');
    toast.className = `toast ${type}`;
    const icons = { success: 'âœ…', error: 'âŒ' };
    toast.innerHTML = `
      <span class="toast-icon">${icons[type]}</span>
      <span class="toast-message">${message}</span>
    `;
    container.appendChild(toast);
    setTimeout(() => {
      toast.classList.add('removing');
      setTimeout(() => toast.remove(), 300);
    }, 4000);
  }

  // EmailJS send
  async function sendContactEmail(formData) {
    const templateParams = {
      from_name: formData.name || 'Ø²Ø§Ø¦Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹',
      from_email: formData.email || '',
      subject: formData.subject || 'Ø±Ø³Ø§Ù„Ø© Ø§ØªØµØ§Ù„ Ù…Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹',
      message: formData.message || '',
      name: formData.name || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',
      email: formData.email || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',
      company_name: 'Ù…Ù†ØµØªÙƒ Ø§Ù„Ø¹Ù„Ù…ÙŠØ©'
    };

    const response = await emailjs.send(
      'service_mpy2rwy',   // Service ID
      'template_9b9yiqg',  // Template ID
      templateParams
    ); // EmailJS send API ÙŠØ³ØªØ®Ø¯Ù… serviceID + templateID + templateParams ÙˆÙŠØ±Ø¬Ø¹ Promise.[web:257]

    console.log('Email sent', response.status, response.text);
    return true;
  }

  const form = document.getElementById('contactForm');
  const submitBtn = document.getElementById('submitBtn');
  const btnText = document.getElementById('btnText');
  const btnSpinner = document.getElementById('btnSpinner');

  form.addEventListener('submit', async function(e) {
    e.preventDefault();

    let valid = true;
    function setError(id, condition) {
      const errorEl = document.querySelector(`.error-text[data-for="${id}"]`);
      if (!errorEl) return;
      if (condition) {
        errorEl.style.display = 'block';
        valid = false;
      } else {
        errorEl.style.display = 'none';
      }
    }

    const name = form.name.value.trim();
    const email = form.email.value.trim();
    const subject = form.subject.value.trim();
    const message = form.message.value.trim();

    setError('name', name === '');
    setError('email', !email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email));
    setError('subject', subject === '');
    setError('message', message === '');

    if (!valid) {
      showToast('Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØµØ­ÙŠØ­ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬', 'error');
      return;
    }

    submitBtn.disabled = true;
    btnText.style.display = 'none';
    btnSpinner.style.display = 'inline';

    try {
      const formData = {
        name,
        email,
        phone: form.phone.value.trim(),
        subject,
        message
      };

      await sendContactEmail(formData);
      showToast('âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­! Ø³Ù†Ø±Ø¯ Ø¹Ù„ÙŠÙƒ Ù‚Ø±ÙŠØ¨Ù‹Ø§.', 'success');
      form.reset();
    } catch (err) {
      console.error('EmailJS error', err);
      showToast('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ø£Ùˆ Ø±Ø§Ø³Ù„: majalatofoq@gmail.com', 'error');
    } finally {
      submitBtn.disabled = false;
      btnText.style.display = 'inline';
      btnSpinner.style.display = 'none';
    }
  });

  // Login / logout (Ù†ÙØ³ Ù…Ù†Ø·Ù‚Ùƒ Ø§Ù„Ù‚Ø¯ÙŠÙ… Ø¥Ù† Ø£Ø±Ø¯Øª Ø¥Ø¶Ø§ÙØªÙ‡ Ù‡Ù†Ø§)
  let user = JSON.parse(localStorage.getItem("user"));
  const headerActions = document.getElementById("headerActions");
  const mobileLogin = document.getElementById("mobileLogin");
  const mobileRegister = document.getElementById("mobileRegister");

  function updateHeader() {
    if (user && user.username) {
      headerActions.innerHTML =
        `<span style="margin-right:12px;">Ù…Ø±Ø­Ø¨Ù‹Ø§ØŒ ${user.username}</span>` +
        `<button class="btn primary" onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>`;
      if (mobileLogin) mobileLogin.innerHTML = `<a href="#" onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</a>`;
      if (mobileRegister) mobileRegister.style.display = "none";
    }
  }

  function logout() {
    localStorage.removeItem("user");
    user = null;
    showToast('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­', 'success');
    setTimeout(() => location.reload(), 500);
  }

  updateHeader();
</script>

</body>
</html>
