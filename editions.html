<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title id="t-title">Ø¥ØµØ¯Ø§Ø±Ø§ØªÙ†Ø§</title>

  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --primary:#009bc4;
      --primary-dark:#00667f;
      --primary-soft:#e5f6f9;
      --nav-bg:#e7f5f8;
      --text-main:#23424b;
      --gold:#d4af37;
      --bg-overlay:rgba(15,23,42,0.35);
    }

    *{
      margin:0;
      padding:0;
      box-sizing:border-box;
    }

    html,body{
      width:100%;
      overflow-x:hidden;
    }

    body{
      font-family:"Tajawal",sans-serif;
      background:#ffffff;
      color:#222;
      line-height:1.6;
      direction:rtl;
    }

    header{
      padding:10px 20px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      background:var(--nav-bg);
      box-shadow:0 2px 18px rgba(0,0,0,0.07);
      position:sticky;
      top:0;
      z-index:1500;
      gap:14px;
    }

    .logo{
      flex:0 0 auto;
      display:flex;
      cursor:pointer;
      justify-content:center;
    }

    .logo img{
      width:clamp(60px,12vw,85px);
      height:auto;
      transition:transform .2s;
    }

    .logo img:hover{
      transform:scale(1.05);
    }

    nav{
      flex:1;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
    }

    nav ul{
      list-style:none;
      display:flex;
      align-items:center;
      gap:16px;
      justify-content:flex-start;
      flex-wrap:nowrap;
    }

    nav li{position:relative;}

    nav a{
      text-decoration:none;
      color:var(--text-main);
      font-size:13px;
      font-weight:600;
      padding:4px 2px;
      transition:.2s;
    }

    nav a:hover{color:var(--primary);}
    nav a.active{color:var(--primary);}

    nav a.active::after,
    nav a:hover::after{
      content:"";
      position:absolute;
      bottom:-2px;
      inset-inline-start:0;
      width:100%;
      height:2px;
      background:var(--primary);
      border-radius:999px;
    }

    .dropdown-content{
      display:none;
      position:absolute;
      top:100%;
      right:0;
      background:#fff;
      box-shadow:0 4px 15px rgba(0,0,0,0.13);
      padding:8px 0;
      border-radius:10px;
      min-width:210px;
      border:1px solid #e5e7eb;
      z-index:1000;
    }

    .dropdown-content a{
      display:block;
      padding:8px 16px;
      color:var(--text-main);
      white-space:nowrap;
      font-size:13px;
    }

    .dropdown-content a:hover{
      background:#f1fbff;
      color:var(--primary);
    }

    .dropdown:hover .dropdown-content{display:block;}

    .nav-search{
      flex:0 0 150px;
      position:relative;
      display:flex;
      align-items:center;
    }
    .nav-search input{
      width:100%;
      padding:5px 26px 5px 8px;
      border-radius:999px;
      border:1px solid #cbd5e1;
      font-size:11px;
      outline:none;
    }
    .nav-search input:focus{
      border-color:var(--primary);
      box-shadow:0 0 0 2px rgba(0,155,196,0.18);
    }
    .nav-search span{
      position:absolute;
      left:8px;
      font-size:13px;
      color:#9ca3af;
    }

    .actions{
      display:flex;
      align-items:center;
      gap:8px;
    }

    .btn{
      padding:6px 12px;
      border-radius:26px;
      border:2px solid rgba(0,155,196,0.45);
      background:rgba(0,155,196,0.06);
      cursor:pointer;
      font-weight:700;
      font-size:11px;
      transition:.2s;
      color:var(--primary-dark);
      white-space:nowrap;
    }

    .btn:hover{
      background:rgba(0,155,196,0.12);
    }

    .btn.primary{
      background:linear-gradient(90deg,var(--primary),var(--primary-dark));
      color:#fff;
      border:none;
      box-shadow:0 3px 12px rgba(0,155,196,0.25);
    }

    .lang-wrapper{position:relative;}
    .lang-toggle{
      border:none;
      background:#ffffff;
      border-radius:999px;
      padding:6px 12px;
      font-size:12px;
      cursor:pointer;
      color:var(--primary-dark);
      display:flex;
      align-items:center;
      gap:6px;
      font-weight:600;
      box-shadow:0 1px 3px rgba(0,0,0,0.1);
      transition:.2s;
    }
    .lang-toggle:hover{
      background:#f8fafc;
      box-shadow:0 2px 8px rgba(0,0,0,0.15);
      transform:translateY(-1px);
    }
    .lang-toggle svg{
      pointer-events:none;
      transition:transform .2s;
    }
    .lang-toggle[aria-expanded="true"] svg{
      transform:rotate(180deg);
    }

    .lang-menu{
      position:absolute;
      top:115%;
      right:0;
      background:#fff;
      box-shadow:0 8px 25px rgba(0,0,0,0.15);
      border-radius:12px;
      min-width:130px;
      border:1px solid #e2e8f0;
      display:none;
      z-index:1200;
      overflow:hidden;
    }
    .lang-menu button{
      width:100%;
      border:none;
      background:transparent;
      padding:10px 14px;
      text-align:right;
      font-size:12px;
      cursor:pointer;
      font-weight:500;
      transition:.2s;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .lang-menu button:hover{
      background:#f1f5f9;
      color:var(--primary);
    }

    .pill-circle{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding:6px 18px;
      border-radius:999px;
      background:var(--gold);
      color:#111;
      font-weight:800;
      font-size:13px;
      box-shadow:0 0 0 2px rgba(0,0,0,0.06);
    }
    .pill-circle::before{
      content:"â—";
      font-size:9px;
      margin-left:6px;
      color:#111;
    }
    .mobile-dropdown-toggle .pill-circle::before{
      content:"";
      display:none;
    }
    .dropdown-academic .dropdown-content a{
      font-size:13px;
    }

    #menu-btn{
      display:none;
      width:42px;
      height:42px;
      border-radius:999px;
      border:none;
      background:linear-gradient(135deg,var(--primary),var(--primary-dark));
      cursor:pointer;
      align-items:center;
      justify-content:center;
      position:relative;
      overflow:hidden;
      box-shadow:0 4px 14px rgba(0,155,196,0.4);
      font-family:"Tajawal", sans-serif;
    }
    #menu-btn span{
      position:absolute;
      width:22px;
      height:2px;
      background:#ffffff;
      border-radius:999px;
      transition:0.25s ease;
      left:50%;
      transform:translateX(-50%);
    }
    #menu-btn span:nth-child(1){ top:13px; }
    #menu-btn span:nth-child(2){ top:20px; }
    #menu-btn span:nth-child(3){ top:27px; }
    #menu-btn.open span:nth-child(1){
      top:20px;
      transform:translateX(-50%) rotate(45deg);
    }
    #menu-btn.open span:nth-child(2){ opacity:0; }
    #menu-btn.open span:nth-child(3){
      top:20px;
      transform:translateX(-50%) rotate(-45deg);
    }

    .backdrop{
      position:fixed;
      inset:0;
      background:var(--bg-overlay);
      z-index:1900;
      opacity:0;
      visibility:hidden;
      transition:0.25s ease;
    }
    .backdrop.active{
      opacity:1;
      visibility:visible;
    }

    .mobile-menu {
      display:none;
      position:fixed;
      top:0;
      right:0;
      width:min(80%,360px);
      height:100%;
      background:#fff;
      box-shadow:-4px 0 18px rgba(0,0,0,0.15);
      padding:clamp(20px,8vw,30px);
      z-index:2000;
      overflow-y:auto;
      transform:translateX(100%);
      transition:transform 0.25s ease;
    }
    .mobile-menu.open{transform:translateX(0);}
    .mobile-menu-header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      margin-bottom:18px;
    }
    .mobile-logo{
      width:52px;
      height:auto;
    }
    .mobile-close{
      border:none;
      background:rgba(248,250,252,0.9);
      width:36px;
      height:36px;
      border-radius:50%;
      font-size:18px;
      cursor:pointer;
      color:var(--primary-dark);
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow:0 2px 8px rgba(15,23,42,0.15);
    }
    .mobile-menu ul{list-style:none;margin-top:10px;}
    .mobile-menu ul li{margin-bottom:18px;}
    .mobile-menu ul li a{
      font-size:clamp(18px,5vw,20px);
      text-decoration:none;
      color:#222;
      font-weight:600;
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:8px 10px;
      border-radius:10px;
      transition:.2s;
    }
    .mobile-menu ul li a:hover{
      background:#e0f2fe;
      color:var(--primary-dark);
    }
    .mobile-menu ul li a.active{color:var(--primary);}

    .mobile-menu,
    .mobile-menu *{
      font-family:"Tajawal",sans-serif !important;
    }

    .mobile-dropdown-toggle{
      width:100%;
      background:transparent;
      border:none;
      display:flex;
      align-items:center;
      justify-content:space-between;
      font-size:16px;
      color:#0f172a;
      cursor:pointer;
      padding:0;
      font-weight:600;
    }
    .mobile-dropdown-arrow{
      font-size:11px;
      color:#6b7280;
    }
    .mobile-submenu{
      list-style:none;
      margin-top:8px;
      margin-right:14px;
      display:none;
    }
    .mobile-submenu li{
      margin-bottom:10px;
    }
    .mobile-submenu a{
      font-size:15px;
      font-weight:600;
      padding:6px 10px;
    }
    .mobile-dropdown.open .mobile-submenu{
      display:block;
    }

    .hero{
      padding:clamp(80px,20vw,110px) clamp(25px,8vw,40px);
      text-align:center;
      background:linear-gradient(135deg,#f6fbff,var(--primary-soft));
    }
    .hero h1{
      font-size:clamp(24px,8vw,36px);
      font-weight:800;
      color:#064b63;
      margin-bottom:clamp(12px,4vw,18px);
    }
    .hero p{
      font-size:clamp(16px,4vw,18px);
      max-width:800px;
      margin:auto;
      color:#4b5c63;
      line-height:1.8;
    }

    section{
      padding:clamp(40px,12vw,60px) clamp(25px,8vw,40px);
    }
    section h2{
      font-size:clamp(22px,6vw,30px);
      margin-bottom:20px;
      color:#0d6b8c;
      border-right:5px solid #0d6b8c;
      padding-right:12px;
    }

    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
      gap:20px;
    }

    .card{
      border-radius:16px;
      background:#fff;
      box-shadow:0 3px 14px rgba(0,0,0,0.08);
      overflow:hidden;
      display:flex;
      flex-direction:column;
      border:1px solid #e5e7eb;
      transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease;
      max-width:360px;
      margin-inline:auto;
      cursor:pointer;
      position:relative;
    }
    .card::before{
      content:'';
      position:absolute;
      inset-inline:0;
      top:0;
      height:3px;
      background:linear-gradient(90deg,#0aa2ca,#078fa8);
    }
    .card:hover{
      transform:translateY(-4px);
      box-shadow:0 14px 30px rgba(15,23,42,0.14);
      border-color:#cbd5e1;
    }

    .card-img-wrapper{
      width:100%;
      aspect-ratio:16 / 9;
      overflow:hidden;
    }
    .card-image{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }

    .card-body{
      padding:12px 14px;
      display:flex;
      flex-direction:column;
      gap:6px;
      flex:1;
    }
    .card-body h3{
      font-size:16px;
      color:#0d6b8c;
      line-height:1.5;
    }
    .card-author{
      color:#0aa2ca;
      font-size:13px;
      font-weight:600;
    }
    .card-body p{
      font-size:14px;
      color:#555;
      line-height:1.7;
    }
    .card-footer{
      padding:0 14px 12px 14px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      font-size:11px;
      color:#6b7280;
    }

    .empty-state{
      text-align:center;
      padding:clamp(60px,20vw,100px) clamp(20px,8vw,40px);
      color:#999;
      grid-column:1/-1;
    }
    .empty-state h3{
      font-size:clamp(20px,6vw,28px);
      margin-bottom:12px;
      color:#666;
    }
    .empty-state p{
      font-size:clamp(15px,4vw,17px);
      max-width:500px;
      margin:0 auto 20px;
      line-height:1.7;
    }

    footer{
      margin-top:clamp(30px,8vw,40px);
      padding:clamp(25px,8vw,35px);
      background:#0d6b8c;
      color:#fff;
      text-align:center;
      font-size:clamp(15px,4vw,18px);
    }

    .toast-container{
      position:fixed;
      top:20px;
      left:20px;
      z-index:5000;
    }
    .toast{
      background:#fff;
      padding:clamp(12px,3vw,16px) clamp(16px,4vw,20px);
      border-radius:8px;
      margin-bottom:10px;
      box-shadow:0 4px 12px rgba(0,0,0,0.15);
      display:flex;
      align-items:center;
      gap:12px;
      animation:slideIn .3s ease-in-out;
      max-width:90vw;
    }
    .toast.success{border-right:4px solid #22c55e;}
    .toast.info{border-right:4px solid #0aa2ca;}
    .toast-icon{font-size:clamp(18px,5vw,20px);}
    .toast-message{
      color:#333;
      font-weight:500;
      font-size:clamp(14px,3.5vw,16px);
    }
    @keyframes slideIn{
      from{transform:translateX(-100%);opacity:0;}
      to{transform:translateX(0);opacity:1;}
    }
    @keyframes slideOut{
      from{transform:translateX(0);opacity:1;}
      to{transform:translateX(-100%);opacity:0;}
    }
    .toast.removing{animation:slideOut .3s ease-in-out;}

    @media(max-width:1100px){
      .nav-search{display:none;}
    }

    @media(max-width:980px){
      nav{display:none;}
      .actions{display:none;}
      #menu-btn{
        display:flex;
        order:-1;
      }
      header{
        justify-content:space-between;
      }
      .logo{
        margin-inline:auto;
      }
      .toast-container{
        left:50%;
        transform:translateX(-50%);
        width:90%;
      }
      .mobile-menu .pill-circle{
        padding:4px 14px;
        font-size:12px;
      }
    }

    @media(max-width:600px){
      .hero h1{font-size:28px;}
      .hero p{font-size:16px;}
      section{padding:40px 15px;}
      section h2{font-size:24px;}
      .grid{
        grid-template-columns:1fr;
        gap:20px;
      }
      .card{max-width:100%;}
    }

    @media(max-width:480px){
      header{padding:10px 14px;}
      .logo img{width:65px;}
      .hero{padding:60px 15px;}
      section{padding:35px 12px;}
    }
  </style>
</head>

<body>
<div class="backdrop" id="backdrop" onclick="toggleMenu(false)"></div>

<div class="mobile-menu" id="mobileMenu">
  <div class="mobile-menu-header">
    <img src="images/logo.png" class="mobile-logo" alt="Logo">
    <button class="mobile-close" type="button" onclick="toggleMenu(false)">âœ•</button>
  </div>

  <div style="margin-bottom:20px;">
    <div class="lang-wrapper">
      <button class="lang-toggle" type="button" onclick="toggleLangMenu()" title="ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ©" aria-expanded="false">
        <span id="langCurrentMobile">AR</span>
        <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
          <path d="M7 10l5 5 5-5z"></path>
        </svg>
      </button>
      <div class="lang-menu" id="langMenuMobile">
        <button type="button" data-lang="ar" onclick="setLang('ar')" title="Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</button>
        <button type="button" data-lang="en" onclick="setLang('en')" title="English">English</button>
        <button type="button" data-lang="fr" onclick="setLang('fr')" title="FranÃ§ais">FranÃ§ais</button>
      </div>
    </div>
  </div>

  <ul>
    <li><a href="index.html" data-t="nav_home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>

    <li class="mobile-dropdown">
      <button type="button" class="mobile-dropdown-toggle">
        <span data-t="nav_studies">Ø£Ø¨Ø­Ø§Ø« ÙˆØ¯Ø±Ø§Ø³Ø§Øª â–¾</span>
        <span class="mobile-dropdown-arrow">â–¾</span>
      </button>
      <ul class="mobile-submenu">
        <li><a href="research.html" data-t="nav_research_peer">Ø£Ø¨Ø­Ø§Ø« Ù…Ø­ÙƒÙ…Ø©</a></li>
        <li><a href="articles.html" data-t="nav_articles_peer">Ù…Ù‚Ø§Ù„Ø§Øª Ù…Ø­ÙƒÙ…Ø©</a></li>
        <li><a href="files.html" data-t="nav_files">Ù…Ù„ÙØ§Øª Ø¨Ø­Ø«ÙŠØ©</a></li>
        <li><a href="articles-foreign.html" data-t="nav_foreign">Ù…Ù‚Ø§Ù„Ø§Øª Ø£Ø¬Ù†Ø¨ÙŠØ©</a></li>
        <li><a href="general-articles.html" data-t="nav_articles">Ù…Ù‚Ø§Ù„Ø§Øª</a></li>
      </ul>
    </li>

    <li><a href="general-articles.html" data-t="nav_articles">Ù…Ù‚Ø§Ù„Ø§Øª</a></li>
    <li><a href="editions.html" class="active" data-t="nav_editions">Ø¥ØµØ¯Ø§Ø±Ø§ØªÙ†Ø§</a></li>
    <li><a href="activities.html" data-t="nav_activities">Ø£Ù†Ø´Ø·ØªÙ†Ø§</a></li>

    <li class="mobile-dropdown">
      <button type="button" class="mobile-dropdown-toggle">
        <span class="pill-circle" data-t="nav_academic">Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ</span>
        <span class="mobile-dropdown-arrow">â–¾</span>
      </button>
      <ul class="mobile-submenu">
        <li><a href="special-politics.html" data-t="sp_politics">ØªØ®ØµØµ Ø¹Ù„ÙˆÙ… Ø³ÙŠØ§Ø³ÙŠØ©</a></li>
        <li><a href="special-ir.html" data-t="sp_ir">ØªØ®ØµØµ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ø¯ÙˆÙ„ÙŠØ©</a></li>
        <li><a href="special-admin-law.html" data-t="sp_admin_law">ØªØ®ØµØµ Ø§Ù„Ù‚Ø§Ù†ÙˆÙ† Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠ</a></li>
        <li><a href="special-const-law.html" data-t="sp_const_law">ØªØ®ØµØµ Ø§Ù„Ù‚Ø§Ù†ÙˆÙ† Ø§Ù„Ø¯Ø³ØªÙˆØ±ÙŠ</a></li>
        <li><a href="special-public-policy.html" data-t="sp_public_policy">ØªØ®ØµØµ Ø§Ù„Ø³ÙŠØ§Ø³Ø§Øª Ø§Ù„Ø¹Ù…ÙˆÙ…ÙŠØ©</a></li>
      </ul>
    </li>

    <li><a href="live.html" data-t="nav_live">Ø¨Ø« Ù…Ø¨Ø§Ø´Ø±</a></li>
    <li><a href="rules.html" data-t="nav_rules">Ø´Ø±ÙˆØ· Ø§Ù„Ù†Ø´Ø±</a></li>
    <li><a href="contact.html" data-t="nav_contact">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a></li>
    <li id="mobileLogin"><a href="login.html" data-t="nav_login">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a></li>
    <li id="mobileRegister"><a href="register.html" data-t="nav_join">Ø§Ù†Ø¶Ù… Ø¥Ù„ÙŠÙ†Ø§</a></li>
  </ul>
</div>

<div class="toast-container" id="toastContainer"></div>

<header>
  <button
    id="menu-btn"
    type="button"
    onclick="toggleMenu()"
    aria-label="Toggle navigation menu"
    aria-expanded="false"
  >
    <span></span><span></span><span></span>
  </button>

  <div class="logo" onclick="goToHome()">
    <img src="images/logo.png" alt="Logo">
  </div>

  <nav>
    <ul>
      <li><a href="index.html" data-t="nav_home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>

      <li class="dropdown">
        <a href="#" data-t="nav_studies">Ø£Ø¨Ø­Ø§Ø« ÙˆØ¯Ø±Ø§Ø³Ø§Øª â–¾</a>
        <div class="dropdown-content">
          <a href="research.html" data-t="nav_research_peer">Ø£Ø¨Ø­Ø§Ø« Ù…Ø­ÙƒÙ…Ø©</a>
          <a href="articles.html" data-t="nav_articles_peer">Ù…Ù‚Ø§Ù„Ø§Øª Ù…Ø­ÙƒÙ…Ø©</a>
          <a href="files.html" data-t="nav_files">Ù…Ù„ÙØ§Øª Ø¨Ø­Ø«ÙŠØ©</a>
          <a href="articles-foreign.html" data-t="nav_foreign">Ù…Ù‚Ø§Ù„Ø§Øª Ø£Ø¬Ù†Ø¨ÙŠØ©</a>
          <a href="general-articles.html" data-t="nav_articles">Ù…Ù‚Ø§Ù„Ø§Øª</a>
        </div>
      </li>

      <li><a href="general-articles.html" data-t="nav_articles">Ù…Ù‚Ø§Ù„Ø§Øª</a></li>
      <li><a href="editions.html" class="active" data-t="nav_editions">Ø¥ØµØ¯Ø§Ø±Ø§ØªÙ†Ø§</a></li>
      <li><a href="activities.html" data-t="nav_activities">Ø£Ù†Ø´Ø·ØªÙ†Ø§</a></li>

      <li class="dropdown dropdown-academic">
        <a href="#academic" class="pill-circle" data-t="nav_academic">Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ</a>
        <div class="dropdown-content">
          <a href="special-politics.html" data-t="sp_politics">ØªØ®ØµØµ Ø¹Ù„ÙˆÙ… Ø³ÙŠØ§Ø³ÙŠØ©</a>
          <a href="special-ir.html" data-t="sp_ir">ØªØ®ØµØµ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ø¯ÙˆÙ„ÙŠØ©</a>
          <a href="special-admin-law.html" data-t="sp_admin_law">ØªØ®ØµØµ Ø§Ù„Ù‚Ø§Ù†ÙˆÙ† Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠ</a>
          <a href="special-const-law.html" data-t="sp_const_law">ØªØ®ØµØµ Ø§Ù„Ù‚Ø§Ù†ÙˆÙ† Ø§Ù„Ø¯Ø³ØªÙˆØ±ÙŠ</a>
          <a href="special-public-policy.html" data-t="sp_public_policy">ØªØ®ØµØµ Ø§Ù„Ø³ÙŠØ§Ø³Ø§Øª Ø§Ù„Ø¹Ù…ÙˆÙ…ÙŠØ©</a>
        </div>
      </li>

      <li><a href="live.html" data-t="nav_live">Ø¨Ø« Ù…Ø¨Ø§Ø´Ø±</a></li>
      <li><a href="rules.html" data-t="nav_rules">Ø´Ø±ÙˆØ· Ø§Ù„Ù†Ø´Ø±</a></li>
      <li><a href="contact.html" data-t="nav_contact">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a></li>
    </ul>

    <form class="nav-search" onsubmit="doSearch(event)">
      <input type="search" id="navSearchInput" placeholder="Ø§Ø¨Ø­Ø«..." />
      <span>ğŸ”</span>
    </form>
  </nav>

  <div class="actions" id="headerActions">
    <div class="lang-wrapper">
      <button class="lang-toggle" type="button" onclick="toggleLangMenu()" title="ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ©" aria-expanded="false">
        <span id="langCurrent">AR</span>
        <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
          <path d="M7 10l5 5 5-5z"></path>
        </svg>
      </button>
      <div class="lang-menu" id="langMenu">
        <button type="button" data-lang="ar" onclick="setLang('ar')" title="Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</button>
        <button type="button" data-lang="en" onclick="setLang('en')" title="English">English</button>
        <button type="button" data-lang="fr" onclick="setLang('fr')" title="FranÃ§ais">FranÃ§ais</button>
      </div>
    </div>
    <button class="btn" onclick="location.href='login.html'" data-t="nav_login">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
    <button class="btn primary" onclick="location.href='register.html'" data-t="nav_join">Ø§Ù†Ø¶Ù… Ø¥Ù„ÙŠÙ†Ø§</button>
  </div>
</header>

<div class="hero">
  <h1 data-t="hero_title_editions">Ø¥ØµØ¯Ø§Ø±Ø§ØªÙ†Ø§</h1>
  <p data-t="hero_sub_editions">Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø§Ù„ÙÙƒØ±ÙŠØ© ÙˆØ§Ù„ÙƒØªØ¨ ÙˆØ§Ù„Ù…Ø¬Ù„Ø§Øª Ø§Ù„Ø¯ÙˆØ±ÙŠØ© Ø§Ù„ØªÙŠ Ù†ØµØ¯Ø±Ù‡Ø§ Ù„Ø¯Ø¹Ù… Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø¹Ù„Ù…ÙŠ ÙˆØ§Ù„Ù…Ø¹Ø±ÙØ©.</p>
</div>

<section>
  <h2 data-t="sec_editions_list">Ø£Ø­Ø¯Ø« Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª</h2>
  <div class="grid" id="editionsGrid"></div>
</section>

<footer data-t="footer_text">
  Â© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© â€“ Ù…Ù†ØµØªÙƒ Ø§Ù„Ø¹Ù„Ù…ÙŠØ©
</footer>

<script>
  function goToHome(){window.location.href='index.html';}

  function toggleMenu(force){
    const menu=document.getElementById("mobileMenu");
    const backdrop=document.getElementById("backdrop");
    const btn=document.getElementById("menu-btn");
    if(!menu || !backdrop || !btn) return;

    const shouldOpen = typeof force === "boolean"
      ? force
      : menu.style.display !== "block";

    menu.style.display = shouldOpen ? "block" : "none";
    menu.classList.toggle("open", shouldOpen);
    backdrop.classList.toggle("active", shouldOpen);

    btn.classList.toggle("open", shouldOpen);
    btn.setAttribute("aria-expanded", String(shouldOpen));
  }

  function doSearch(e){
    e.preventDefault();
    const input=document.getElementById('navSearchInput');
    const q=input ? input.value.trim() : "";
    if(!q) return;
    window.location.href='search.html?q='+encodeURIComponent(q);
  }

  function toggleLangMenu(){
    const desktopMenu=document.getElementById("langMenu");
    const mobileMenu=document.getElementById("langMenuMobile");
    const toggles=document.querySelectorAll('.lang-toggle');

    const mobileVisible = document.getElementById("mobileMenu").style.display === "block";
    const menu = mobileVisible ? mobileMenu : desktopMenu;

    if(!menu) return;
    const isOpen = menu.style.display==="block";
    menu.style.display = isOpen ? "none" : "block";

    toggles.forEach(btn=>btn.setAttribute('aria-expanded', String(!isOpen)));
  }

  document.addEventListener('click',e=>{
    if(!e.target.closest('.lang-wrapper')){
      const m1=document.getElementById('langMenu');
      const m2=document.getElementById('langMenuMobile');
      if(m1) m1.style.display='none';
      if(m2) m2.style.display='none';
      document.querySelectorAll('.lang-toggle').forEach(btn=>btn.setAttribute('aria-expanded','false'));
    }
  });

  function showToast(message,type='info'){
    const container=document.getElementById('toastContainer');
    if(!container)return;
    const toast=document.createElement('div');
    toast.className=`toast ${type}`;
    const icons={success:'âœ…',info:'â„¹ï¸'};
    toast.innerHTML=`
      <span class="toast-icon">${icons[type] || 'â„¹ï¸'}</span>
      <span class="toast-message">${message}</span>
    `;
    container.appendChild(toast);
    setTimeout(()=>{
      toast.classList.add('removing');
      setTimeout(()=>toast.remove(),300);
    },3000);
  }

  let user=JSON.parse(localStorage.getItem("user")||"null");
  const headerActions=document.getElementById("headerActions");
  const mobileLogin=document.getElementById("mobileLogin");
  const mobileRegister=document.getElementById("mobileRegister");

  function updateHeader(){
    if(!headerActions) return;
    if(user&&user.username){
      headerActions.innerHTML=`
        <div class="lang-wrapper">
          <button class="lang-toggle" type="button" onclick="toggleLangMenu()" title="ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ©" aria-expanded="false">
            <span id="langCurrent">AR</span>
            <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
              <path d="M7 10l5 5 5-5z"></path>
            </svg>
          </button>
          <div class="lang-menu" id="langMenu">
            <button type="button" data-lang="ar" onclick="setLang('ar')" title="Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</button>
            <button type="button" data-lang="en" onclick="setLang('en')" title="English">English</button>
            <button type="button" data-lang="fr" onclick="setLang('fr')" title="FranÃ§ais">FranÃ§ais</button>
          </div>
        </div>
        <span style="margin-right:12px;font-size:13px;">${user.username}</span>
        <button class="btn primary" onclick="logout()" data-t="logout">${t('logout')}</button>
      `;
      if(mobileLogin)mobileLogin.innerHTML=`<a href="#" onclick="logout();return false;" data-t="logout">${t('logout')}</a>`;
      if(mobileRegister)mobileRegister.style.display="none";
    }
  }

  function logout(){
    localStorage.removeItem("user");
    user=null;
    showToast(t('toast_logout_success') || 'ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­','success');
    setTimeout(()=>location.reload(),500);
  }

  const editionsGrid=document.getElementById("editionsGrid");

  const translations = {
    ar:{
      title:"Ø¥ØµØ¯Ø§Ø±Ø§ØªÙ†Ø§",
      nav_home:"Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
      nav_studies:"Ø£Ø¨Ø­Ø§Ø« ÙˆØ¯Ø±Ø§Ø³Ø§Øª â–¾",
      nav_research_peer:"Ø£Ø¨Ø­Ø§Ø« Ù…Ø­ÙƒÙ…Ø©",
      nav_articles_peer:"Ù…Ù‚Ø§Ù„Ø§Øª Ù…Ø­ÙƒÙ…Ø©",
      nav_files:"Ù…Ù„ÙØ§Øª Ø¨Ø­Ø«ÙŠØ©",
      nav_foreign:"Ù…Ù‚Ø§Ù„Ø§Øª Ø£Ø¬Ù†Ø¨ÙŠØ©",
      nav_articles:"Ù…Ù‚Ø§Ù„Ø§Øª",
      nav_editions:"Ø¥ØµØ¯Ø§Ø±Ø§ØªÙ†Ø§",
      nav_activities:"Ø£Ù†Ø´Ø·ØªÙ†Ø§",
      nav_academic:"Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ",
      nav_live:"Ø¨Ø« Ù…Ø¨Ø§Ø´Ø±",
      nav_rules:"Ø´Ø±ÙˆØ· Ø§Ù„Ù†Ø´Ø±",
      nav_contact:"Ø§ØªØµÙ„ Ø¨Ù†Ø§",
      nav_login:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„",
      nav_join:"Ø§Ù†Ø¶Ù… Ø¥Ù„ÙŠÙ†Ø§",
      hero_title_editions:"Ø¥ØµØ¯Ø§Ø±Ø§ØªÙ†Ø§",
      hero_sub_editions:"Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø§Ù„ÙÙƒØ±ÙŠØ© ÙˆØ§Ù„ÙƒØªØ¨ ÙˆØ§Ù„Ù…Ø¬Ù„Ø§Øª Ø§Ù„Ø¯ÙˆØ±ÙŠØ© Ø§Ù„ØªÙŠ Ù†ØµØ¯Ø±Ù‡Ø§ Ù„Ø¯Ø¹Ù… Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø¹Ù„Ù…ÙŠ ÙˆØ§Ù„Ù…Ø¹Ø±ÙØ©.",
      sec_editions_list:"Ø£Ø­Ø¯Ø« Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª",
      footer_text:"Â© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© â€“ Ù…Ù†ØµØªÙƒ Ø§Ù„Ø¹Ù„Ù…ÙŠØ©",
      logout:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬",
      toast_logout_success:"ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­",
      toast_open_edition:"Ø¬Ø§Ø±ÙŠ ÙØªØ­ Ø§Ù„Ø¥ØµØ¯Ø§Ø±..."
    },
    en:{
      title:"Our Publications",
      nav_home:"Home",
      nav_studies:"Research & Studies â–¾",
      nav_research_peer:"Peer-reviewed research",
      nav_articles_peer:"Peer-reviewed articles",
      nav_files:"Research files",
      nav_foreign:"Foreign Articles",
      nav_articles:"Articles",
      nav_editions:"Our Publications",
      nav_activities:"Activities",
      nav_academic:"Academic",
      nav_live:"Live",
      nav_rules:"Submission Rules",
      nav_contact:"Contact us",
      nav_login:"Login",
      nav_join:"Join us",
      hero_title_editions:"Our Publications",
      hero_sub_editions:"A collection of books and periodicals published to support scientific research and knowledge.",
      sec_editions_list:"Latest Publications",
      footer_text:"Â© All rights reserved â€“ Your Academic Platform",
      logout:"Logout",
      toast_logout_success:"Logged out successfully",
      toast_open_edition:"Opening publication..."
    },
    fr:{
      title:"Nos publications",
      nav_home:"Accueil",
      nav_studies:"Recherches et Ã©tudes â–¾",
      nav_research_peer:"Recherches Ã©valuÃ©es",
      nav_articles_peer:"Articles Ã©valuÃ©s",
      nav_files:"Dossiers de recherche",
      nav_foreign:"Articles Ã©trangers",
      nav_articles:"Articles",
      nav_editions:"Nos publications",
      nav_activities:"ActivitÃ©s",
      nav_academic:"AcadÃ©mique",
      nav_live:"Direct",
      nav_rules:"Conditions de publication",
      nav_contact:"Contactez-nous",
      nav_login:"Connexion",
      nav_join:"Rejoignez-nous",
      hero_title_editions:"Nos publications",
      hero_sub_editions:"Une collection de livres et revues publiÃ©s pour soutenir la recherche scientifique et le savoir.",
      sec_editions_list:"DerniÃ¨res publications",
      footer_text:"Â© Tous droits rÃ©servÃ©s â€“ Votre plateforme scientifique",
      logout:"DÃ©connexion",
      toast_logout_success:"DÃ©connexion rÃ©ussie",
      toast_open_edition:"Ouverture de la publication..."
    }
  };

  let currentLang = localStorage.getItem('lang') || 'ar';

  function t(key){
    const dict = translations[currentLang] || translations.ar;
    return dict[key] || '';
  }

  function setLang(lang){
    currentLang = lang;
    localStorage.setItem('lang', lang);
    const dict = translations[lang] || translations.ar;

    document.documentElement.lang = lang;
    document.documentElement.dir  = (lang === 'en' || lang === 'fr') ? 'ltr' : 'rtl';

    const titleEl = document.getElementById('t-title');
    if(titleEl && dict.title) titleEl.textContent = dict.title;

    const langCurrent = document.getElementById('langCurrent');
    const langCurrentMobile = document.getElementById('langCurrentMobile');
    if(langCurrent) langCurrent.textContent = lang.toUpperCase();
    if(langCurrentMobile) langCurrentMobile.textContent = lang.toUpperCase();

    document.querySelectorAll("[data-t]").forEach(el=>{
      const key=el.getAttribute("data-t");
      if(dict[key]) el.textContent = dict[key];
    });

    const m1=document.getElementById("langMenu");
    const m2=document.getElementById("langMenuMobile");
    if(m1) m1.style.display="none";
    if(m2) m2.style.display="none";

    document.querySelectorAll('.lang-toggle').forEach(btn=>btn.setAttribute('aria-expanded','false'));
  }

  function renderEditions(){
    const editionsData=JSON.parse(localStorage.getItem('editions')||'[]');
    if(!editionsGrid) return;

    editionsGrid.innerHTML='';
    if(editionsData.length===0){
      editionsGrid.innerHTML=`
        <div class="empty-state">
          <h3>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</h3>
          <p>Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ Ø£Ø­Ø¯Ø« Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª ÙˆØ§Ù„ÙƒØªØ¨ ÙˆØ§Ù„Ù…Ø¬Ù„Ø§Øª Ø¨Ù…Ø¬Ø±Ø¯ Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ù…Ù† Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ….</p>
        </div>
      `;
      return;
    }

    editionsData.forEach((item)=>{
      const card=document.createElement("article");
      card.className="card";
      if(item.id!=null) card.dataset.id=item.id;

      const imgHTML=item.image
        ? `<div class="card-img-wrapper"><img src="${item.image}" class="card-image" alt="${item.title || ''}" loading="lazy"></div>`
        : '';

      const authorHTML=item.author
        ? `<div class="card-author">Ø¨Ù‚Ù„Ù…: ${item.author}</div>`
        : '';

      const descRaw=item.short || item.description || '';
      const desc=descRaw.length>220?descRaw.slice(0,220)+'â€¦':descRaw;

      card.innerHTML=`
        ${imgHTML}
        <div class="card-body">
          <h3>${item.title || 'Ø¨Ø¯ÙˆÙ† Ø¹Ù†ÙˆØ§Ù†'}</h3>
          ${authorHTML}
          <p>${desc}</p>
        </div>
        <div class="card-footer">
          <span>Ø¥ØµØ¯Ø§Ø±</span>
        </div>
      `;
      editionsGrid.appendChild(card);
    });
  }

  function openEditionById(id){
    if(!id)return;
    const editions=JSON.parse(localStorage.getItem('editions')||'[]');
    const edition=editions.find(item=>String(item.id)===String(id));
    if(edition){
      localStorage.setItem('editionsView',JSON.stringify(edition));
      showToast(t('toast_open_edition') || 'Ø¬Ø§Ø±ÙŠ ÙØªØ­ Ø§Ù„Ø¥ØµØ¯Ø§Ø±...','info');
      setTimeout(()=>{
        window.location.href='editions-view.html?id='+encodeURIComponent(id);
      },500);
    }
  }

  document.addEventListener('click',(e)=>{
    const card=e.target.closest('.card');
    if(!card||!card.dataset.id)return;
    openEditionById(card.dataset.id);
  });

  function initMobileDropdowns(){
    document.querySelectorAll('.mobile-dropdown-toggle').forEach(btn=>{
      btn.addEventListener('click',()=>{
        const parent=btn.closest('.mobile-dropdown');
        if(parent){
          parent.classList.toggle('open');
        }
      });
    });
  }

  window.addEventListener('DOMContentLoaded',()=>{
    updateHeader();
    setLang(currentLang);
    renderEditions();
    initMobileDropdowns();
  });
</script>

</body>
</html>
