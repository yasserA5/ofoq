<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</title>

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">

<!-- Icons -->
<link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet">

<style>
    * { margin:0; padding:0; box-sizing:border-box; }
    
    body{
        font-family:'Tajawal',sans-serif;
        background: linear-gradient(135deg, #f5f7fb 0%, #e2e8f0 100%);
        display:flex;
        justify-content:center;
        align-items:center;
        min-height:100vh;
        padding:20px;
    }
    
    .container{
        width:100%;
        max-width:360px;
        background:#fff;
        padding:clamp(25px,5vw,35px);
        border-radius:22px;
        box-shadow:0 10px 35px rgba(0,0,0,0.12);
        text-align:center;
        position:relative;
        overflow:hidden;
    }
    
    .container::before{
        content:'';
        position:absolute;
        top:0;
        left:0;
        right:0;
        height:4px;
        background:linear-gradient(90deg, #0aa2ca, #078fa8);
    }
    
    h2{
        font-size:clamp(22px,5vw,28px);
        margin-bottom:20px;
        color:#0a4f5f;
        font-weight:700;
    }
    
    .message{
        display:none;
        margin-bottom:15px;
        padding:12px 16px;
        font-size:14px;
        border-radius:12px;
        font-weight:500;
        transition:all .3s ease;
    }
    
    .message.success{
        background:linear-gradient(135deg, #10b981, #059669);
        color:#fff;
        border-right:4px solid #34d399;
    }
    
    .message.error{
        background:linear-gradient(135deg, #ef4444, #dc2626);
        color:#fff;
        border-right:4px solid #f87171;
    }
    
    .input-box{
        position:relative;
        margin-bottom:18px;
    }
    
    .input-box i{
        position:absolute;
        left:16px;
        top:50%;
        transform:translateY(-50%);
        font-size:18px;
        color:#9ca3af;
        z-index:2;
        transition:.2s;
    }
    
    .input-box input{
        width:100%;
        padding:14px 16px 14px 50px;
        border:2px solid #e5e7eb;
        border-radius:25px;
        font-size:15px;
        outline:none;
        font-family:'Tajawal',sans-serif;
        background:#fafafa;
        transition:all .3s ease;
    }
    
    .input-box input:focus{
        border-color:#0aa2ca;
        background:#fff;
        box-shadow:0 0 0 3px rgba(10,162,202,0.1);
    }
    
    .input-box input:focus + i{
        color:#0aa2ca;
    }
    
    .options{
        display:flex;
        justify-content:space-between;
        align-items:center;
        margin:12px 0 20px;
        font-size:14px;
        color:#6b7280;
    }
    
    .options label{
        display:flex;
        align-items:center;
        gap:8px;
        cursor:pointer;
    }
    
    .options a{
        color:#0aa2ca;
        text-decoration:none;
        font-weight:500;
        transition:.2s;
    }
    
    .options a:hover{
        color:#078fa8;
    }
    
    button{
        width:100%;
        padding:14px;
        border:none;
        border-radius:25px;
        font-size:16px;
        font-weight:600;
        cursor:pointer;
        font-family:'Tajawal',sans-serif;
        transition:all .3s ease;
        margin-bottom:12px;
        position:relative;
        overflow:hidden;
    }
    
    .login-btn{
        background:linear-gradient(135deg, #0aa2ca, #078fa8);
        color:#fff;
        box-shadow:0 4px 15px rgba(10,162,202,0.3);
    }
    
    .login-btn:hover:not(:disabled){
        background:linear-gradient(135deg, #078fa8, #056b7f);
        transform:translateY(-2px);
        box-shadow:0 8px 25px rgba(10,162,202,0.4);
    }
    
    .login-btn:disabled{
        opacity:0.6;
        cursor:not-allowed;
    }
    
    .signup-btn{
        background:#f3f4f6;
        color:#374151;
        border:2px solid #e5e7eb;
    }
    
    .signup-btn:hover{
        background:#e5e7eb;
        transform:translateY(-1px);
    }
    
    .divider{
        position:relative;
        margin:20px 0;
        color:#9ca3af;
        font-size:14px;
    }
    
    .divider::before{
        content:'';
        position:absolute;
        top:50%;
        right:calc(50% + 10px);
        left:calc(50% - 10px);
        height:1px;
        background:#e5e7eb;
    }
    
    /* Responsive */
    @media (max-width: 480px){
        body{padding:10px;}
        .container{padding:clamp(20px,6vw,28px);}
        .input-box input{padding:12px 14px 12px 45px; font-size:14px;}
        .input-box i{font-size:16px; left:14px;}
        button{padding:12px; font-size:15px;}
        .options{flex-direction:column; gap:10px; text-align:center;}
    }
</style>
</head>

<body>
<div class="container">
    <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>

    <div id="msg" class="message"></div>

    <div class="input-box">
        <i class="ri-user-3-line"></i>
        <input id="username" type="text" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" required>
    </div>

    <div class="input-box">
        <i class="ri-lock-password-line"></i>
        <input id="password" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
    </div>

    <div class="options">
        <label>
            <input id="remember" type="checkbox">
            ØªØ°ÙƒØ±Ù†ÙŠ
        </label>
        <a href="forgot.html" onclick="showMsg('Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© Ù‚Ø±ÙŠØ¨Ø§Ù‹', '#3b82f6')">Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŸ</a>
    </div>

    <button class="login-btn" id="loginBtn" onclick="login()">
        <span id="loginText">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</span>
        <span id="loginSpinner" style="display:none;">â³ Ø¬Ø§Ø±ÙŠ...</span>
    </button>

    <div class="divider">Ø£Ùˆ</div>

    <button class="signup-btn" onclick="location.href='register.html'">
        <i class="ri-user-add-line"></i> Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯
    </button>
</div>

<script>
function showMsg(text, type = 'success') {
    const msg = document.getElementById("msg");
    const loginBtn = document.getElementById("loginBtn");
    
    msg.className = `message ${type}`;
    msg.style.display = "block";
    msg.textContent = text;
    
    // Reset button
    loginBtn.disabled = false;
    document.getElementById("loginText").style.display = "inline";
    document.getElementById("loginSpinner").style.display = "none";
    
    // Auto hide success message
    if(type === 'success') {
        setTimeout(() => {
            msg.style.display = "none";
        }, 2000);
    }
}

// ğŸ†• Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø© + Ø­ÙØ¸ "ØªØ°ÙƒØ±Ù†ÙŠ"
function login() {
    const username = document.getElementById("username").value.trim();
    const password = document.getElementById("password").value;
    const remember = document.getElementById("remember").checked;
    const loginBtn = document.getElementById("loginBtn");
    
    // Validation
    if(!username || !password) {
        return showMsg("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±", "error");
    }
    
    if(username.length < 3) {
        return showMsg("Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 3 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„", "error");
    }
    
    // Loading state
    loginBtn.disabled = true;
    document.getElementById("loginText").style.display = "none";
    document.getElementById("loginSpinner").style.display = "inline";
    
    // Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø³Ø¬Ù„Ø©
    let users = JSON.parse(localStorage.getItem("users") || "[]");
    
    // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø­Ø³Ø§Ø¨
    const user = users.find(u => u.username === username && u.password === password);
    
    setTimeout(() => { // Simulate network delay
        if(user) {
            // Ø­ÙØ¸ Ø­Ø§Ù„Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
            const userData = {
                username: user.username,
                email: user.email || '',
                id: user.id || Date.now(),
                loggedIn: true,
                remember: remember
            };
            
            localStorage.setItem("user", JSON.stringify(userData));
            
            // Ø­ÙØ¸ "ØªØ°ÙƒØ±Ù†ÙŠ" Ù„Ù…Ø¯Ø© 30 ÙŠÙˆÙ…
            if(remember) {
                const expiry = new Date();
                expiry.setDate(expiry.getDate() + 30);
                localStorage.setItem("rememberMe", JSON.stringify({
                    username: user.username,
                    expires: expiry.getTime()
                }));
            }
            
            showMsg("âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­!", "success");
            
            // Ø­ÙØ¸ Ø¢Ø®Ø± ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„
            localStorage.setItem("lastLogin", Date.now().toString());
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªÙˆØ¬ÙŠÙ‡ Ø¨Ø¹Ø¯ Ø«Ø§Ù†ÙŠØªÙŠÙ†
            setTimeout(() => {
                // Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© Ø£Ùˆ index.html
                const fromPage = sessionStorage.getItem('loginFrom') || 'index.html';
                window.location.href = fromPage;
            }, 1500);
            
        } else {
            showMsg("âŒ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©", "error");
        }
    }, 800);
}

// ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª "ØªØ°ÙƒØ±Ù†ÙŠ" ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
window.addEventListener('load', function() {
    const rememberData = localStorage.getItem("rememberMe");
    if(rememberData) {
        try {
            const data = JSON.parse(rememberData);
            if(data.expires > Date.now()) {
                document.getElementById("username").value = data.username;
                document.getElementById("remember").checked = true;
            } else {
                localStorage.removeItem("rememberMe");
            }
        } catch(e) {
            localStorage.removeItem("rememberMe");
        }
    }
    
    // ØªÙ†Ø¸ÙŠÙ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø§Ù„Ù‚Ø¯ÙŠÙ…
    if(!localStorage.getItem("user")) {
        localStorage.removeItem("rememberMe");
    }
});

// Enter key login
document.addEventListener('keypress', function(e) {
    if(e.key === 'Enter') {
        login();
    }
});
</script>

</body>
</html>
